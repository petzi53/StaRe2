{
  "hash": "9475696962659795ee678a998b96e6bf",
  "result": {
    "markdown": "# Preface {.unnumbered}\n\n::: {.callout-note style=\"color: blue;\"}\n## Finished about 15%\n:::\n\n## Content and Goals of this Book\n\nThis book collects personal notes during reading of Statistical\nRethinking by Richard McElreath. I am using the [second\nedition](https://www.routledge.com/Statistical-Rethinking-A-Bayesian-Course-with-Examples-in-R-and-STAN/McElreath/p/book/9780367139919)\npublished 2020 by [CRC Press](https://en.wikipedia.org/wiki/CRC_Press)\nan imprint of Routledge of the Taylor & Francis Group. Additionally I am\nusing [Statistical Rethinking\n2023](https://www.youtube.com/playlist?list=PLDcUM9US4XdPz-KxHM4XHt7uUVGWWVSus),\nthe most recent set of free YouTube video lectures.\n\nYou can find links to other material on Richards [website about the\nbook](https://xcelab.net/rm/statistical-rethinking/). Of special\ninterest for me are the\n[brms+tidyverse](https://bookdown.org/content/4857/) and the\n[Stan+tidyverse](https://vincentarelbundock.github.io/rethinking2/)\nconversion of his code. As I am not very experienced with R and\ncompletely new to Bayesian statistics and their tools this additional\nmaterial is for me also very challenging. I am planning to read them\nsimultaneously and will dedicate parallel chapters for their approaches.\nChapters with the\n\n-   suffix `a` refers to the original book,\n-   suffix `b` to the brms conversion and\n-   suffix `c` to the Stan conversion.\n\n::: {.callout-caution style=\"color: orange;\"}\n## Caution (2023-17-07)\n\nI am in the process of re-organizing the content I have written so far\n(chapter 1-4). Instead of separating the original from the brms-version\nI am going to integrate the content of different code conversions into one chapter. This has the advantage that\nthe chapter numbers of this document conform to the chapter numbers of\nthe [second edition of the printed\nbook](https://www.routledge.com/Statistical-Rethinking-A-Bayesian-Course-with-Examples-in-R-and-STAN/McElreath/p/book/9780367139919).\n\nThis will take some time. In the meanwhile keep in mind that there is a\nmixture of old and new structure and that some cross references do not\nwork.\n:::\n\nMy text consists mostly of quotes from the 2020 book edition or from the\ntext of the video lectures 2023. Sometimes I made minor editing (e.g.,\nshorting the text), but almost all of my text of this Quarto book are\nnot mine, but is coming from the book or video lectures by Richard\nMcElreath. Therefore I am not going to indicate these quotes and I am\nalso not using exact text snippets for my replications.\n\nI am not only replicating the code to see how it works but also to\nchange the values of parameters to observe their influences. Sometimes I\nam changing the code myself to tidyverse conventions. Especially when it\ncomes to plotting I try use\n[ggplot2](https://ggplot2.tidyverse.org/reference/index.html) instead\nthe base plotting system I have no experience at all.\n\nAs this is my first book using [Quarto](https://quarto.org/) instead of\n[bookdown](https://bookdown.org/yihui/bookdown/) I am using these notes\nalso to learn Quarto. Therefore you will find sometimes remarks to my\nQuarto experiences.\n\n::: {.callout-note style=\"color: orange;\"}\n## Warning\n\nI wrote this book as a text for others to read because that forces me to\nbe become explicit and explain all my learning outcomes more carefully.\nPlease keep in mind that this text is not written by an expert but by a\nlearner. In spite of replicating most of the content it may contain many\nmistakes. All these misapprehensions and errors are my responsibility.\n:::\n\nIf you find errors please do not hesitate to write issues or PRs on my\n[GitHub site](https://github.com/petzi53/statistical-rethinking-2-2023).\nI really appreciate it to learn from more experienced R users! It\nshortens the learning paths of self-directed learners.\n\n## Package Installation {.unnumbered}\n\nIn contrast to the sparse and partly outdated remarks in the book use\nthe installation section from the `rethinking` [package at\nGitHub](https://github.com/rmcelreath/rethinking#installation \"Installation of 'rethinking' package\").\n\n### Step 1\n\nFrom the three steps I had already successfully installed the first one\n(`rstan` and the `C++` toolchain), so I had no need to follow the\ndetailed instructions of the `rstan` installation at\n<https://mc-stan.org/users/interfaces/rstan.html>.\n\n### Step 2\n\nTo install the `cmdstanr` package I visited\n<https://mc-stan.org/cmdstanr/>. This is an addition to my previous\ninstallation with the older version (2nd ed., 2022). As I installed the\nlatest beta version of `cmdstanr` the first time I also needed to\ncompile the libraries with `cmdstanr::install_cmdstan()`.\n\nTo check the result of my installation I ran\n`check_cmdstan_toolchain()`.\n\n\n::: {.cell}\n\n````{.cell-code  code-line-numbers=\"false\"}\n```{{r}}\n#| label: install-cmdstanr\n#| eval: false\n\ninstall.packages(\"cmdstanr\", repos = c(\"https://mc-stan.org/r-packages/\", getOption(\"repos\")))\ncmdstanr::install_cmdstan()\ncmdstanr::check_cmdstan_toolchain()\n\n```\n````\n:::\n\n\nThe command for downloaded `cmdstanr` did not install the vignettes,\nwhich take a long time to build, but they are always available online at\n<https://mc-stan.org/cmdstanr/articles/>.\n\nThe vignette [Getting started with\nCmdStanR](https://mc-stan.org/cmdstanr/articles/cmdstanr.html) also\nrecommend to load the `bayesplot` and `posterior` packages, which are\nused later in the `CmdStanR`-examples. But I believe these two packages\nare not necessary if you just plan to stick with the book.\n\n### Step 3\n\nOnce the infrastructure is installed one can install the packages used\nby the book. With the exception of rethinking --- the companion package\nof the book -- they can all be downloaded from CRAN.\n\nI had already devtools installed, therefore I deleted it from the list\nof installed packages.\n\n\n::: {.cell}\n\n````{.cell-code  code-line-numbers=\"false\"}\n```{{r}}\n#| label: install-packages\n#| eval: false\n\ninstall.packages(c(\"coda\",\"mvtnorm\", \"loo\",\"dagitty\",\"shape\"))\ndevtools::install_github(\"rmcelreath/rethinking\")\n\n```\n````\n:::\n\n\n## Get Code Examples\n\nGo to the [book website](https://xcelab.net/rm/statistical-rethinking/)\nand download the [R code\nexamples](http://xcelab.net/rmpubs/sr2/code.txt) for the book.\n\n\n::: {.cell}\n\n````{.cell-code  code-line-numbers=\"false\"}\n```{{r}}\n#| label: download-code-examples\n#| eval: false\n\ndir.create(\"R\")\ndownload.file(\"http://xcelab.net/rmpubs/sr2/code.txt\", \"R/code.R\")\n\n```\n````\n:::\n\n\n::: {.callout-caution style=\"color: orange;\"}\n## Caution\n\nThere are big differences between the code snippets of the 2nd edition\ncollected in [code.txt](http://xcelab.net/rmpubs/sr2/code.txt) and the\nnew version preparing the 3rd book version. These new code snippets can\nbe found in the slides and/or in the videos. I will always refer to the\nplace where they can be found.\n\nAdditionally you will find all the scripts supporting the animation in\nthe lectures at the [new 2023 github\nrepo](https://github.com/rmcelreath/stat_rethinking_2023).\n:::\n\nThe style of the code snippets is not the [tidyverse\nstyle](https://style.tidyverse.org/index.html). For instance: The equal\nsign `=` is not embedded between spaces but a list of variables,\nseparated by comas has in front and before the coma a space.\n\n\n::: {.cell}\n\n````{.cell-code  code-line-numbers=\"false\"}\n```{{r}}\n#| label: code-style-orig\n#| eval: false\n\nsample <- c(\"W\",\"L\",\"W\",\"W\",\"W\",\"L\",\"W\",\"L\",\"W\")\nW <- sum(sample==\"W\") # number of W observed\nL <- sum(sample==\"L\") # number of L observed\np <- c(0,0.25,0.5,0.75,1) # proportions W\nways <- sapply( p , function(q) (q*4)^W * ((1-q)*4)^L )\nprob <- ways/sum(ways)\ncbind( p , ways , prob )\n\n```\n````\n:::\n\n\nI will always convert the original code style with the RStudio addin\nstyler package to tidyverse style: Assuming that the default value of\nthe style transformer is `styler::tidyverse_style()` I select the code\nsnippet I want to convert and call the addin which runs\n`styler:::style_selection()`. The transformation of the above code\nsnippet results into the code below:\n\n\n::: {.cell}\n\n````{.cell-code  code-line-numbers=\"false\"}\n```{{r}}\n#| label: code-style-new\n#| eval: false\n\nsample <- c(\"W\", \"L\", \"W\", \"W\", \"W\", \"L\", \"W\", \"L\", \"W\")\nW <- sum(sample == \"W\") # number of W observed\nL <- sum(sample == \"L\") # number of L observed\np <- c(0, 0.25, 0.5, 0.75, 1) # proportions W\nways <- sapply(p, function(q) (q * 4)^W * ((1 - q) * 4)^L)\nprob <- ways / sum(ways)\ncbind(p, ways, prob)\n```\n````\n:::\n\n\nAs copy & paste from the slides does not work I downloaded the PDF of\nthe Speaker deck slides. But still, it didn't work always. In that case\nI used [TextSniper](https://textsniper.app/ \"App for text recognition\")\nand formated manually. But these copy & paste problems only arise when\nusing new code, prepared for the 3rd edition. With the book (2nd ed.) I\ndo not have problems to copy the code snippets via calibre with the ePUB\neBook version.\n\n## Setup Chunk\n\nIn this text you will find very long chapters resulting in long files\nwith many code chunks. To secure that I can run individual chunks for\ntest purposes without rendering the whole file I will collect the\n`library()` commands of all necessary packages in the setup chunk for\neach file (See [Quarto equivalent to RMarkdown setup\nchunk](https://community.rstudio.com/t/quarto-equivalent-to-rmarkdown-setup-chunk/153018)).\n\nI am also using the {**conflicted**} package and provide the preferable\ncommands with `conflicts_prefer()` in each setup file.\n\n## Course Schedule\n\nThe following tables matches the lectures ([videos\n2023](https://www.youtube.com/playlist?list=PLDcUM9US4XdPz-KxHM4XHt7uUVGWWVSus)\nand [slides 2023](https://speakerdeck.com/rmcelreath)) with the book\nchapters of the [second edition\n(2020)](https://www.amazon.de/Statistical-Rethinking-Bayesian-Examples-Chapman/dp/036713991X/ref=pd_ci_mcx_mh_mcx_views_0?pd_rd_w=0hXcF&content-id=amzn1.sym.0cbf7d14-5630-4ffd-8c03-015d34863840&pf_rd_p=0cbf7d14-5630-4ffd-8c03-015d34863840&pf_rd_r=K9KW83V635VKRVDS2J6S&pd_rd_wg=cRN8V&pd_rd_r=d2928c40-3fdf-4b68-a23b-6d7484f0e11c&pd_rd_i=036713991X).\nIt was generated by a screenshot from **Statistical Rethinking 2023 -\n01 - The Golem of Prague\n(**[50:09](https://www.youtube.com/watch?v=FdnMWdICdRs&list=PLDcUM9US4XdPz-KxHM4XHt7uUVGWWVSus&index=1&t=50m9s)),\nbut can also be found [as a\nslide](https://speakerdeck.com/rmcelreath/statistical-rethinking-2023-lecture-01?slide=63)\nin **Statistical Rethinking 2023 - Lecture 01**.\n\n![](img/SR2-Course-Schedule-min.png)\n\nA better overview with links to videos and slides provides the following\nHTML table, taken from the [README.md file for the 2023\nlectures](https://github.com/rmcelreath/stat_rethinking_2023/blob/main/README.md#calendar--topical-outline).\n\n| Week \\## | Meeting date | Reading             | Lectures                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |\n|-------|-------|-------|----------------------------------------------------|\n| Week 01  | 06 January   | Chapters 1, 2 and 3 | \\[1\\] \\<[Golem of Prague](https://www.youtube.com/watch?v=FdnMWdICdRs&list=PLDcUM9US4XdPz-KxHM4XHt7uUVGWWVSus&index=1)\\> \\<[Slides](https://speakerdeck.com/rmcelreath/statistical-rethinking-2023-lecture-01)\\> <br> \\[2\\] \\<[Garden of Forking Data](https://www.youtube.com/watch?v=R1vcdhPBlXA&list=PLDcUM9US4XdPz-KxHM4XHt7uUVGWWVSus&index=2)\\> \\<[Slides](https://speakerdeck.com/rmcelreath/statistical-rethinking-2023-lecture-02)\\>                                                        |\n| Week 02  | 13 January   | Chapter 4           | \\[3\\] \\<[Geocentric Models](https://www.youtube.com/watch?v=tNOu-SEacNU&list=PLDcUM9US4XdPz-KxHM4XHt7uUVGWWVSus&index=3)\\> \\<[Slides](https://speakerdeck.com/rmcelreath/statistical-rethinking-2023-lecture-03)\\> <br> \\[4\\] \\<[Categories and Curves](https://www.youtube.com/watch?v=F0N4b7K_iYQ&list=PLDcUM9US4XdPz-KxHM4XHt7uUVGWWVSus&index=4)\\> \\<[Slides](https://speakerdeck.com/rmcelreath/statistical-rethinking-2023-lecture-04)\\>                                                       |\n| Week 03  | 20 January   | Chapters 5 and 6    | \\[5\\] \\<[Elemental Confounds](https://www.youtube.com/watch?v=mBEA7PKDmiY&list=PLDcUM9US4XdPz-KxHM4XHt7uUVGWWVSus&index=5)\\> \\<[Slides](https://speakerdeck.com/rmcelreath/statistical-rethinking-2023-lecture-05)\\> <br> \\[6\\] \\<[Good and Bad Controls](https://www.youtube.com/watch?v=uanZZLlzKHw&list=PLDcUM9US4XdPz-KxHM4XHt7uUVGWWVSus&index=6)\\> \\<[Slides](https://speakerdeck.com/rmcelreath/statistical-rethinking-2023-lecture-06)\\>                                                     |\n| Week 04  | 27 January   | Chapters 7,8,9      | \\[7\\] \\<[Overfitting](https://www.youtube.com/watch?v=1VgYIsANQck&list=PLDcUM9US4XdPz-KxHM4XHt7uUVGWWVSus&index=7)\\> \\<[Slides](https://speakerdeck.com/rmcelreath/statistical-rethinking-2023-lecture-07)\\> <br> \\[8\\] \\<[MCMC](https://www.youtube.com/watch?v=rZk2FqX2XnY&list=PLDcUM9US4XdPz-KxHM4XHt7uUVGWWVSus&index=8)\\> \\<[Slides](https://speakerdeck.com/rmcelreath/statistical-rethinking-2023-lecture-08)\\>                                                                              |\n| Week 05  | 03 February  | Chapters 10 and 11  | \\[9\\] \\<[Modeling Events](https://www.youtube.com/watch?v=Zi6N3GLUJmw&list=PLDcUM9US4XdPz-KxHM4XHt7uUVGWWVSus&index=9)\\> \\<[Slides](https://speakerdeck.com/rmcelreath/statistical-rethinking-2023-lecture-09)\\> <br> \\[10\\] \\<[Counts and Confounds](https://www.youtube.com/watch?v=jokxu18egu0&list=PLDcUM9US4XdPz-KxHM4XHt7uUVGWWVSus&index=10)\\> \\<[Slides](https://speakerdeck.com/rmcelreath/statistical-rethinking-2023-lecture-10)\\>                                                        |\n| Week 06  | 10 February  | Chapters 11 and 12  | \\[11\\] \\<[Ordered Categories](https://www.youtube.com/watch?v=VVQaIkom5D0&list=PLDcUM9US4XdPz-KxHM4XHt7uUVGWWVSus&index=11)\\> \\<[Slides](https://github.com/rmcelreath/stat_rethinking_2023/raw/main/slides/Lecture_11-ord_logit.pdf)\\> <br> \\[12\\] \\<[Multilevel Models](https://www.youtube.com/watch?v=iwVqiiXYeC4&list=PLDcUM9US4XdPz-KxHM4XHt7uUVGWWVSus&index=12)\\> \\<[Slides](https://raw.githubusercontent.com/rmcelreath/stat_rethinking_2023/main/slides/Lecture_12-GLMM1.pdf)\\>           |\n| Week 07  | 17 February  | Chapter 13          | \\[13\\] \\<[Multilevel Adventures](https://www.youtube.com/watch?v=sgqMkZeslxA&list=PLDcUM9US4XdPz-KxHM4XHt7uUVGWWVSus&index=13)\\> \\<[Slides](https://raw.githubusercontent.com/rmcelreath/stat_rethinking_2023/main/slides/Lecture_13-GLMM2.pdf)\\> <br> \\[14\\] \\<[Correlated Features](https://www.youtube.com/watch?v=Es44-Bp1aKo&list=PLDcUM9US4XdPz-KxHM4XHt7uUVGWWVSus&index=14)\\> \\<[Slides](https://github.com/rmcelreath/stat_rethinking_2023/raw/main/slides/Lecture_14-GLMM3.pdf)\\>          |\n| Week 08  | 24 February  | Chapter 14          | \\[15\\] \\<[Social Networks](https://www.youtube.com/watch?v=hnYhJzYAQ60&list=PLDcUM9US4XdPz-KxHM4XHt7uUVGWWVSus&index=15)\\> \\<[Slides](https://github.com/rmcelreath/stat_rethinking_2023/raw/main/slides/Lecture_15-social_networks.pdf)\\> <br> \\[16\\] \\<[Gaussian Processes](https://www.youtube.com/watch?v=Y2ZLt4iOrXU&list=PLDcUM9US4XdPz-KxHM4XHt7uUVGWWVSus&index=16)\\> \\<[Slides](https://github.com/rmcelreath/stat_rethinking_2023/raw/main/slides/Lecture_16-gaussian_processes.pdf)\\>     |\n| Week 09  | 03 March     | Chapter 15          | \\[17\\] \\<[Measurement](https://www.youtube.com/watch?v=mt9WKbQJrI4&list=PLDcUM9US4XdPz-KxHM4XHt7uUVGWWVSus&index=17)\\> \\<[Slides](https://github.com/rmcelreath/stat_rethinking_2023/raw/main/slides/Lecture_17-measurement.pdf)\\> <br> \\[18\\] \\<[Missing Data](https://www.youtube.com/watch?v=Oeq6GChHOzc&list=PLDcUM9US4XdPz-KxHM4XHt7uUVGWWVSus&index=18)\\> \\<[Slides](https://github.com/rmcelreath/stat_rethinking_2023/raw/main/slides/Lecture_18-missing_data.pdf)\\>                         |\n| Week 10  | 10 March     | Chapters 16 and 17  | \\[19\\] \\<[Generalized Linear Madness](https://www.youtube.com/watch?v=zffwg0xDOgE&list=PLDcUM9US4XdPz-KxHM4XHt7uUVGWWVSus&index=19)\\> \\<[Slides](https://github.com/rmcelreath/stat_rethinking_2023/raw/main/slides/Lecture_19-GenLinearMadness.pdf)\\> <br> \\[20\\] \\<[Horoscopes](https://www.youtube.com/watch?v=qwF-st2NGTU&list=PLDcUM9US4XdPz-KxHM4XHt7uUVGWWVSus&index=20&pp=sAQB)\\> \\<[Slides](https://github.com/rmcelreath/stat_rethinking_2023/raw/main/slides/Lecture_20-horoscopes.pdf)\\> |\n\n## Important Links\n\n-   You can purchase *Statistical Rethinking: A Bayesian Course in R and\n    Stan* from [CRC\n    Press](https://www.routledge.com/Statistical-Rethinking-A-Bayesian-Course-with-Examples-in-R-and-STAN/McElreath/p/book/9780367139919?utm_source=crcpress.com&utm_medium=referral).\n-   **The `rethinking` package**: Statistical Rethinking course and book\n    package: <https://github.com/rmcelreath/rethinking>. I am using\n    version 2.31.\n-   **Statistical rethinking 2023**: Course material for January -\n    March 2023. <https://github.com/rmcelreath/stat_rethinking_2023>. It\n    contains a link to the new [Video playlist\n    2023](https://www.youtube.com/watch?v=FdnMWdICdRs&list=PLDcUM9US4XdPz-KxHM4XHt7uUVGWWVSus),\n    and to the [slide deck\n    collection](https://speakerdeck.com/rmcelreath/). Furthermore it\n    displays a table with the readings per week including the links to\n    the appropriate video and slides. The repo also inlcudes [PDFs for\n    the\n    homework](https://github.com/petzi53/stat_rethinking_2023/tree/main/homework)\n    and the [scripts for the lecture\n    animations](https://github.com/petzi53/stat_rethinking_2023/tree/main/homework).\n    --- I could not find the new R scripts associated with the (new)\n    book text. They need to be collected from the slide lectures.\n-   **Statistical rethinking with brms, ggplot2, and the tidyverse**:\n    [brms/tidyverse-Conversion](https://bookdown.org/content/4857/) of\n    Statistical Rethinking using bookdown by *A Solomon Kurz*\n    (2023-01-26)\n-   **Functions for Learning Bayesian Inference**: Maybe I should also\n    check this resource: It is an [R package to learn bayesian\n    inference](https://cran.r-project.org/package=LearnBayes) with\n    vignettes as short guides.\n\n**Solutions**:\n\nThere are two different bookdown websites with book solutions:\n\n-   [Solutions for the 1st\n    edition](https://bookdown.org/bgautijonsson/statistical_rethinking_solutions/)\n    by *Brynjólfur Gauti Jónsson* and\n-   [Solutions for the 2nd\n    edition](https://github.com/wjakethompson/sr2-solutions) by *Jake\n    Thompson.*\n\nI have also found two GitHub repos with solutions:\n\n-   [GitHub solutions by *Taras\n    Svirskyi*](https://github.com/jffist/statistical-rethinking-solutions)\n    *(jffist)*\n-   [GitHub solutions by William\n    Wolf](https://github.com/cavaunpeu/statistical-rethinking)\n    *(cavaunpeu)*\n\n::: {.callout-caution style=\"color: orange;\"}\n## Caution\n\nThese solutions are written by members of the #RStats community and are\nnot authorized by the author.\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}